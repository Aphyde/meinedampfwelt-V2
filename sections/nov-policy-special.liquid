{%- assign sst = section.settings -%}
{%- assign bg_image = sst.background_image -%}
{% style %}
  #shopify-section-{{ section.id }} .distance {
    padding-top: {{ sst.distance_top_xs }}px;
    padding-bottom: {{ sst.distance_bottom_xs }}px;
    padding-left: clamp(0px, {{ sst.px}}px, 15px);
    padding-right: clamp(0px, {{ sst.px}}px, 15px);
    margin-bottom: {{ sst.mb_xs }}px;
    {% if sst.background_color != blank  %}
      background-color: {{ sst.background_color }};
    {% endif %}
    {% if bg_image != blank %}
      background-image: url("{{ bg_image | image_url: width: 1920 }}");
      background-position: center;
      background-size: cover;
    {% endif %}
    {% if sst.mb_xl < 0 %}
      z-index: 2;
    {% endif %}
  }
  #shopify-section-{{ section.id }} .title-policy {
    font-size: {{ sst.text_fz | divided_by: 10.0 }}rem;
  }
  #shopify-section-{{ section.id }} .desc-policy {
    font-size: {{ sst.desc_fz | divided_by: 10.0 }}rem;
  }
  #shopify-section-{{ section.id }} .policy-icon img {
    max-width: {{ sst.width_icon }}px;
    max-height: {{ sst.height_icon }}px;
  }
  @media(min-width: 768px) {
    #shopify-section-{{ section.id }} .distance {
      padding-top: {{ sst.distance_top_md }}px;
      padding-bottom: {{ sst.distance_bottom_md }}px;
      padding-left: {{ sst.px}}px;
      padding-right: {{ sst.px}}px;
      margin-bottom: {{ sst.mb_md }}px;
    }
  }
  @media(min-width: 1200px) {
    #shopify-section-{{ section.id }} .distance {
      padding-top: {{ sst.distance_top_xl }}px;
      padding-bottom: {{ sst.distance_bottom_xl }}px;
      margin-bottom: {{ sst.mb_xl }}px;
    }
  }
  @media(max-width: 991px) {
    #shopify-section-{{ section.id }} .title-policy {
      font-size: clamp(10px,{{ sst.text_fz | divided_by: 10.0 }}rem, 1.7rem);
    }
  }
  @media(max-width: 767px) {
    {% if sst.width_icon > 60 or sst.height_icon > 60 %}
      #shopify-section-{{ section.id }} .policy-icon img {
        max-width: {{ sst.width_icon | times: 0.8 | round: 0 }}px;
        max-height: {{ sst.height_icon | times: 0.8 | round: 0 }}px;
      }
    {% endif %}
  }
  @media(max-width: 575px) {
    #shopify-section-{{ section.id }} .title-policy {
      font-size: clamp(11px, {{ sst.text_fz | divided_by: 10.0 }}rem, 2.2rem);
    }
  }
  {% for block in section.blocks %}
    #shopify-section-{{ section.id }} .block-{{ forloop.index }} .desc-policy {
      max-width: {{ block.settings.mw }}px;
    }
  {% endfor %}
  #shopify-section-{{ section.id }} {
    --color1: {{ sst.color1 }};
    --color2: {{ sst.color2 }};
    --color3: {{ sst.color3 }};
    --color4: {{ sst.color4 }};
    --color5: {{ sst.color1 | color_darken: 5 }};
  }
  #shopify-section-{{ section.id }} .progress:after {
    --w-1: {{ 100 | divided_by: section.blocks.size }}%;
    --w-2: {{ 200 | divided_by: section.blocks.size }}%;
    --w-3: {{ 300 | divided_by: section.blocks.size }}%;
    --w-4: {{ 400 | divided_by: section.blocks.size }}%;
    --w-5: {{ 500 | divided_by: section.blocks.size }}%;
  }
  {% if sst.enable_mw_image %}
    #shopify-section-{{ section.id }} .image-bottom {
      max-width: {{ sst.mw_image | times: 0.7 }}px;
    }
    @media(min-width: 992px) {
      #shopify-section-{{ section.id }} .image-bottom {
        max-width: {{ sst.mw_image }}px;
      }
    }
  {% endif %}
{% endstyle %}
<div class="{% if sst.bg_size == 'full' %}distance position-relative{% if sst.class != blank %} {{ sst.class }}{% endif %} {% endif %}color-{{ sst.color_section }}{% if sst.animate %} wow fadeInUp{% endif %}">
  <div class="{{ sst.container }}">
    {% render 'heading-section', sub_position: sst.subheading_position %}
    <div class=" container-inner{% if sst.bg_size == 'container' %}distance{% if sst.class != blank %} {{ sst.class }}{% endif %}{% endif %}">
      <div class="position-relative pt-20">
        <div class="row spacing-0">
          {% for block in section.blocks %}
            {% assign bst = block.settings %}
            <div class="nov-policy-item col-sm col-6 pointer mb-xs-45 block-{{ forloop.index }}">
              {% if block.type == 'item_policy' %}
                <div class="policy__item--content text-center h-100 position-relative pb-55">
                  <div class="policy-icon d-inline-flex align-items-center justify-content-center mb-20 position-relative">
                    <img src="{{ bst.policy_icon | image_url: width: 20 }}" data-src="{{ bst.policy_icon | image_url: width: 200 }}" class="lazyload img-fluid" alt="{{ bst.policy_icon.alt | default: 'icon_policy' }}" width="200" height="200">
                  </div>
                  <div class="heading--policy position-relative">
                    {% if bst.title_policy != blank %}
                      <div class="title-policy f_pr {{ sst.t_fw }}">{{ bst.title_policy }}</div>
                    {% endif %}
                    {% if bst.desc_policy != blank %}
                      <div class="desc-policy{% if bst.title_policy != blank %} mt-10{% endif %}">{{ bst.desc_policy }}</div>
                    {% endif %}
                  </div>
                  <div class="dot"></div>
                </div>
              {% endif %}
              {% if block.type == '@app' %}
                {% render block %}
              {% endif %}
            </div>
          {% endfor %}
          <div class="progress d-none d-sm-flex"></div>
        </div>
      </div>
      {% if sst.img_bottom != blank %}
        <div class="box-transtocenter mt-65" data-margin="-250px">
          <div class="element-transtocenter image-bottom">
            {% render 'nov-aspect-image', image: sst.img_bottom %}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</div>
{% schema %}
  {
    "name": "Vinova Policy Special",
    "class": "section-policy-special",
    "max_blocks": 5,
    "settings": [
      {
        "type": "richtext",
        "id": "heading",
        "label": "Heading",
        "default": "<p>Vinova Policy Special</p>"
      },
      {
        "type": "color",
        "id": "heading_color",
        "label": "Heading color",
        "default": "#222222"
      },
      {
        "type": "richtext",
        "id": "subheading",
        "label": "Sub heading",
        "default": "<p>Subtitle from happy customers</p>"
      },
      {
        "type": "color",
        "id": "subheading_color",
        "label": "Sub heading color",
        "default": "#666666"
      },
      {
        "type": "richtext",
        "id": "descheading",
        "label": "Description",
        "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>"
      },
      {
        "type": "color",
        "id": "descheading_color",
        "label": "Description color",
        "default": "#666666"
      },
      {
        "type": "select",
        "id": "subheading_position",
        "label": "Sub heading position",
        "default": "bottom",
        "options": [
          {
            "value": "top",
            "label": "Top"
          },
          {
            "value": "bottom",
            "label": "Bottom"
          }
        ]
      },
      {
        "type": "select",
        "id": "heading_alignment",
        "label": "Heading alignment",
        "default": "text-center",
        "options": [
          {
            "value": "text-left",
            "label": "Left"
          },
          {
            "value": "text-center",
            "label": "Center"
          },
          {
            "value": "text-right",
            "label": "Right"
          }
        ]
      },
      {
        "type": "number",
        "id": "width_icon",
        "label": "Max width icon policy (px)",
        "default": 90
      },
      {
        "type": "number",
        "id": "height_icon",
        "label": "Max height icon policy (px)",
        "default": 30
      },
      {
        "type": "paragraph",
        "content": "=========================="
      },
      {
        "type": "number",
        "id": "text_fz",
        "label": "Title font size (px)",
        "default": 16
      },
      {
        "type": "select",
        "id": "t_fw",
        "label": "Title font weight",
        "default": "font-700",
        "options": [
          {"value": "font-300","label": "300 - Light"},
          {"value": "font-400","label": "400 - Regular"},
          {"value": "font-500","label": "500 - Medium"},
          {"value": "font-600","label": "600 - SemiBold"},
          {"value": "font-700","label": "700 - Bold"},
          {"value": "font-800","label": "800 - ExtraBold"},
          {"value": "font-900","label": "900 - Black"}
        ]
      },
      {
        "type": "number",
        "id": "desc_fz",
        "label": "Description font size (px)",
        "default": 13
      },
      {
        "type":  "header",
        "content": "Progress"
      },
      {
        "type": "color",
        "id": "color1",
        "label": "Color 1",
        "default": "#6ec000"
      },
      {
        "type": "color",
        "id": "color2",
        "label": "Color 2",
        "default": "#01693a"
      },
      {
        "type": "color",
        "id": "color3",
        "label": "Color 3",
        "default": "#ffffff"
      },
      {
        "type": "color",
        "id": "color4",
        "label": "Color 4",
        "default": "#6ec000"
      },
      {
        "type": "header",
        "content": "Image bottom"
      },
      {
        "type": "image_picker",
        "id": "img_bottom",
        "label": "Image"
      },
      {
        "type": "checkbox",
        "id": "enable_mw_image",
        "label": "Enable max width",
        "default": true
      },
      {
        "type": "number",
        "id": "mw_image",
        "label": "Max width (px)",
        "default": 1200
      },
      {
        "type":  "header",
        "content": "Section Style"
      },
      {
        "type": "checkbox",
        "id": "animate",
        "label": "Show animated",
        "default":   true
      },
      {
        "type": "select",
        "id": "container",
        "label": "Container",
        "default": "container",
        "options": [
          {"value": "container", "label": "Container"},
          {"value": "container-fluid", "label": "Container fluid"},
          {"value": "container-full", "label": "Container full width"}
        ]
      },
      {
        "type": "color_scheme",
        "id": "color_section",
        "label": "Color section",
        "default": "background-1"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background colors"
      },
      {
        "type": "image_picker",
        "id": "background_image",
        "label": "Background image"
      },
      {
        "type": "select",
        "id": "bg_size",
        "label": "Background size",
        "default": "full",
        "options": [
          { "value": "full", "label": "Full" },
          { "value": "container", "label": "Container"}
        ]
      },
      {
        "type": "text",
        "id": "class",
        "label": "Class"
      },
      {
        "type": "number",
        "id": "px",
        "label": "Horizontally spacing section (px)",
        "default": 0
      },
      {
        "type": "header",
        "content": "Spacing Top (px)"
      },
      {
        "type": "number",
        "id": "distance_top_xl",
        "label": "Large laptop",
        "default": 30,
        "info": "Breakpoint 1200px"
      },
      {
        "type": "number",
        "id": "distance_top_md",
        "label": "Tablet",
        "default": 30,
        "info": "Breakpoint 768px"
      },
      {
        "type": "number",
        "id": "distance_top_xs",
        "label": "Mobile",
        "default": 30
      },
      {
        "type": "header",
        "content": "Spacing Bottom (px)"
      },
      {
        "type": "number",
        "id": "distance_bottom_xl",
        "label": "Large laptop",
        "default": 30,
        "info": "Breakpoint 1200px"
      },
      {
        "type": "number",
        "id": "distance_bottom_md",
        "label": "Tablet",
        "default": 30,
        "info": "Breakpoint 768px"
      },
      {
        "type": "number",
        "id": "distance_bottom_xs",
        "label": "Mobile",
        "default": 30
      },
      {
        "type": "header",
        "content": "Margin Bottom (px)"
      },
      {
        "type": "number",
        "id": "mb_xl",
        "label": "Large laptop",
        "default": 30,
        "info": "Breakpoint 1200px"
      },
      {
        "type": "number",
        "id": "mb_md",
        "label": "Tablet",
        "default": 30,
        "info": "Breakpoint 768px"
      },
      {
        "type": "number",
        "id": "mb_xs",
        "label": "Mobile",
        "default": 30
      }
    ],
    "blocks": [
      {
        "type": "item_policy",
        "name": "Policy Item",
        "settings": [
          {
            "type": "image_picker",
            "id": "policy_icon",
            "label": "Policy icon"
          },
          {
            "type": "text",
            "id": "title_policy",
            "label": "Title policy",
            "default": "Free Delivery From $ 250"
          },
          {
            "type": "inline_richtext",
            "id": "desc_policy",
            "label": "Description policy",
            "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit eiusmod tempor"
          },
          {
            "type": "number",
            "id": "mw",
            "label": "Max width",
            "default": 500
          }
        ]
      },
      {
        "type": "@app"
      }
    ],
    "presets": [
      {
        "name": "Vinova Policy Special",
        "category": "Text",
        "blocks": [
          {
            "type": "item_policy"
          },
          {
            "type": "item_policy"
          },
          {
            "type": "item_policy"
          }
        ]
      }
    ]
  }
{% endschema %}